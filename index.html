<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Americano sin Margen</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 20px;
    background-color: #f4f4f4;
    color: #333;
  }
  h1, h2, h3 {
    text-align: center;
  }
  h2.subtitle {
    font-size: smaller;
  }
  h2.left {
    text-align: left;
  }
  h2.center {
    text-align: center;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 20px;
  }
  th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
    width: 20%;
  }
  th {
    background-color: #0066cc;
    color: white;
  }
  .round {
    margin-bottom: 30px;
  }
  #voterName {
    display: block;
    margin: 0 auto 20px;
    padding: 10px;
    font-size: 16px;
    width: 50%;
  }
  button {
    display: block;
    margin: 0 auto;
    padding: 10px 20px;
    font-size: 16px;
    background-color: #0066cc;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
</style>
</head>
<body>
  <h1>Americano sin Margen</h1>
  <h2 class="center subtitle">By Dalal y Cata</h2>
  <h3>Versi√≥n Apuestas</h3>

  <!-- Input for voter's name -->
  <input type="text" id="voterName" placeholder="Ingresa tu nombre" required />

  <div class="round">
    <h2 class="left">Ronda 1:</h2>
    <table>
      <tr>
        <th>Cancha</th> <!-- New column for court -->
        <th>Match</th>
        <th>Votos</th>
      </tr>
      <tr>
        <td>Cancha 4</td> <!-- Court name -->
        <td>Dalal Coni vs Toti Cote</td>
        <td>
          <label><input type="radio" name="match1" value="Dalal Coni"> Dalal Coni</label>
          <label><input type="radio" name="match1" value="Toti Cote"> Toti Cote</label>
        </td>
      </tr>
      <tr>
        <td>Cancha 6</td> <!-- Court name -->
        <td>Flo Fi vs Toya Nieto</td>
        <td>
          <label><input type="radio" name="match2" value="Flo Fi">Flo Fi</label>
          <label><input type="radio" name="match2" value="Toya Nieto">Toya Nieto</label>
        </td>
      </tr>
      <tr>
        <td>Cancha 8</td> <!-- Court name -->
        <td>Barbi Brenda vs Nata Cata</td>
        <td>
          <label><input type="radio" name="match3" value="Barbi Brenda">Barbi Brenda</label>
          <label><input type="radio" name="match3" value="Nata Cata">Nata Cata</label>
        </td>
      </tr>
    </table>
  </div>

  <div class="round">
    <h2 class="left">Ronda 2:</h2>
    <table>
      <tr>
        <th>Cancha</th> <!-- New column for court -->
        <th>Match</th>
        <th>Votos</th>
      </tr>
      <tr>
        <td>Cancha 4</td> <!-- Court name -->
        <td>Dalal Nieto vs Cata Flo</td>
        <td>
          <label><input type="radio" name="match4" value="Dalal Nieto"> Dalal Nieto</label>
          <label><input type="radio" name="match4" value="Cata Flo"> Cata Flo</label>
        </td>
      </tr>
      <tr>
        <td>Cancha 6</td> <!-- Court name -->
        <td>Nata Fi vs Barbi Coni</td>
        <td>
          <label><input type="radio" name="match5" value="Nata Fi">Nata Fi</label>
          <label><input type="radio" name="match5" value="Barbi Coni">Barbi Coni</label>
        </td>
      </tr>
      <tr>
        <td>Cancha 8</td> <!-- Court name -->
        <td>Toya Toti vs Brenda Cote</td>
        <td>
          <label><input type="radio" name="match6" value="Toya Toti">Toya Toti</label>
          <label><input type="radio" name="match6" value="Brenda Cote">Brenda Cote</label>
        </td>
      </tr>
    </table>
  </div>

  <div class="round">
    <h2 class="left">Ronda 3:</h2>
    <table>
      <tr>
        <th>Cancha</th> <!-- New column for court -->
        <th>Match</th>
        <th>Votos</th>
      </tr>
      <tr>
        <td>Cancha 4</td> <!-- Court name -->
        <td>Barbi Cata vs Nata Toti</td>
        <td>
          <label><input type="radio" name="match7" value="Barbi Cata"> Barbi Cata</label>
          <label><input type="radio" name="match7" value="Nata Toti"> Nata Toti</label>
        </td>
      </tr>
      <tr>
        <td>Cancha 6</td> <!-- Court name -->
        <td>Cote Coni vs Flo Nieto</td>
        <td>
          <label><input type="radio" name="match8" value="Cote Coni">Cote Coni</label>
          <label><input type="radio" name="match8" value="Flo Nieto">Flo Nieto</label>
        </td>
      </tr>
      <tr>
        <td>Cancha 8</td> <!-- Court name -->
        <td>Dalal Fi vs Brenda Toya</td>
        <td>
          <label><input type="radio" name="match9" value="Dalal Fi">Dalal Fi</label>
          <label><input type="radio" name="match9" value="Brenda Toya">Brenda Toya</label>
        </td>
      </tr>
    </table>
  </div>

  <button id="submitVoteButton">Votar</button>

  <script>
    document.getElementById("submitVoteButton").addEventListener("click", function() {
      const voterName = document.getElementById("voterName").value.trim();
      const votes = {
        name: voterName,
        match1: document.querySelector('input[name="match1"]:checked')?.value,
        match2: document.querySelector('input[name="match2"]:checked')?.value,
        match3: document.querySelector('input[name="match3"]:checked')?.value,
        match4: document.querySelector('input[name="match4"]:checked')?.value,
        match5: document.querySelector('input[name="match5"]:checked')?.value,
        match6: document.querySelector('input[name="match6"]:checked')?.value,
        match7: document.querySelector('input[name="match7"]:checked')?.value,
        match8: document.querySelector('input[name="match8"]:checked')?.value,
        match9: document.querySelector('input[name="match9"]:checked')?.value,
      };

      // Validate that the name and all votes are provided
      if (!voterName) {
        alert("Ingresa tu nombre po");
        return;
      }
      if (Object.values(votes).some(vote => vote === undefined)) {
        alert("Te faltan partidos por votar");
        return;
      }

      // Send votes to Google Sheets
      fetch("https://script.google.com/macros/s/AKfycbx025trGaEMFhbkVtTIaDfb652XoiU22ycbEWTWkVhyUa7ykV5Z9__rIp6wZT6st3d2ig/exec", {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(votes),
      })
      .then(response => response.json())
      .then(data => {
        if (data.status === "success") {
          alert("Thanks for voting!");
        } else {
          alert("There was an issue submitting your vote. Please try again.");
        }
      })
      .catch(error => alert("Gracias por votar!"));
    });
  </script>
</body>
</html>
